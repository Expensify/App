# Welcome to the Expensify Help site

Expensify Help is mainly composed of static HTML (`.html`) and Markdown (`.md`) files. We use [Jekyll](https://jekyllrb.com/) to generate a static site from those HTML and Markdown files.

# Test locally

## Pre-requisites

- Clone and/or pull the [App repo](https://github.com/Expensify/App) to your local machine.
- Check the [requirements](https://jekyllrb.com/docs/installation/) to install Jekyll.
- Install Jekyll locally by running:
```
gem install bundler
cd help
bundle install
```

## Steps

1. Open the Terminal command line in macOS.
2. Navigate to the `help` folder in the command line.
3. Run `jekyll serve`.
4. Open http://localhost:4000 in the browser to see the site running locally.
5. Modify a `.html` or `.md` file and refresh the page in the browser.

# How the project is structured

The [help](https://github.com/Expensify/App/tree/e6cea38ef22f83ae4730a34a9281d8962388dff8/help) folder will contain the following main folders:
- *_layouts*: This contains HTML templates used by Jekyll to create pages in the static site. For now it has only one file ([default.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_layouts/default.html)) which will render the common HTML elements and the assets on every page. It also supports the use of the [liquid template language](https://shopify.github.io/liquid/).
- *_includes*: it will contain HTML content that can be reused on different pages. It will have the files home-navigation-tree.html, request-money-navigation-tree.html and  send-money-navigation-tree.html that will be rendered in the LHN.
- *assets*: it will contain the three sub-folders css, images, and js.
  - The css folder can contain either .css or .sass files (where SASS files will be processed by Jekyll and it will generate a CSS file in an output folder also generated by Jekyll).
  -  In order to organize the image files, we're going to have multiple sub-folders grouped by subject in the images folder.
- *send-money*: it will contain an index.html file with the content of the hub and will have a folder for each stage. Each sub-folder stage will contain all the articles related to that stage or subsection.
- *request-money*: same as send-money folder.
- *_site*: this will be the output folder that will contain the generated HTML files. This is the default name by Jekyll but can be changed.
index.html: it will have the homepage content.

More details about the Jekyll project structure can be found [here](https://jekyllrb.com/docs/structure/).

# How to add a new Article

## Add content

Copy the [template](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/TEMPLATE.md) file and rename it with the name of the article title, i.e. [SmartScan.md](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money/request-money/SmartScan.md) (you can use dashes for spaces in the file name if it's needed) and put the new file inside of the respective hub folder or sub-folder. The title will be rendered automatically according to the filename (the dashes will be removed in the generated site page).

The sections of the article will be filled and nested automatically in the LHN, just ensure to use the [heading markdown tags](https://www.markdownguide.org/cheat-sheet/) correctly.

## Add a new entry in the hub page

There are 3 main components in the hub page: 1. Stage title, 2. Row of Card buttons and 3. Card buttons.

```html
<!-- 1. Stage title -->
<h2 id="request-money">
    Request Money
</h2>

<!-- 2. Row of Card buttons -->
<div class="cards-row">

    <!-- 3. Card buttons -->

    <div class="card" onclick="openArticle('./request-money/SmartScan')">
        <div class="body">
            <div class="title">SmartScan</div>
        </div>
        <div class="right-icon">
            <i class="fa-solid fa-angle-right caret-icon"></i>
        </div>
    </div>

    <div class="card" onclick="openArticle('./request-money/AnotherArticle')">
        <div class="body">
            <div class="title">Another Article</div>
        </div>
        <div class="right-icon">
            <i class="fa-solid fa-angle-right caret-icon"></i>
        </div>
    </div>

    <!-- More Card buttons here... -->

</div>
```
### Add a Stage title (optional)

In order to add a new stage title in the hub page just copy and paste the following HTML block in the respective hub page and modify the values accordingly:

```html
<h2 id="request-money">
    Request Money
</h2>
```

Where `id` is an arbitrary value that will help us to anchor this title to the LHN element.

### Add a Row of Card buttons (optional)

If it's required, you can add a new row of Card buttons with the following HTML block:

```html
<div class="cards-row">
    <!-- Add Cards components here -->
</div>
```

### Add a Card button

A card button is the box that contains the article title and the caret right icon `>`. It navigates to the article when it's pressed.

In order to add a new Card button in the respective hub page ([send-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/send-money/index.html) or [request-money/index.html](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/articles/request-money/index.html)) just copy and pase the following Card element:

```html
<div class="card" onclick="openArticle('./request-money/SmartScan')">
    <div class="body">
        <div class="title">SmartScan</div>
    </div>
    <div class="right-icon">
        <i class="fa-solid fa-angle-right caret-icon"></i>
    </div>
</div>
```

Then replace the article title accordingly (in this case replace the value `SmartScan` with the new article title) and add a link to the relative path of the article (in this case replace `./request-money/SmartScan` accordingly to the path of the new article file without the file extension).

## Add a new entry in the LHN page

There are 2 main components in the LHN page associated with the hub you're adding an article to:
  1. Stage title anchor: which navigates the Stage title in the hub page and contains an unordered list of Article links.
  2. Article links: which navigate to the corresponding article page.

```html
<!-- 1.Stage title anchor -->
<li><a href="#request-money">Request Money</a>
    <!-- 2. Article links -->
    <ul>
        <li><a href="./request-money/SmartScan">SmartScan</a></li>
        <li><a href="./request-money/AnotherArticle">Another Article</a></li>
        <!-- More Article links here... -->
    </ul>
</li>

<!-- More Stage title anchors here... -->
```

### Add a new Stage title anchor (optional)

Just add copy and paste the following HTML block in the corresponding navigation tree file (either for [Request Money](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_includes/request-money-navigation-tree.html) or [Send Money](https://github.com/Expensify/App/blob/e6cea38ef22f83ae4730a34a9281d8962388dff8/help/_includes/send-money-navigation-tree.html)):

```
<li><a href="#request-money">Request Money</a>
    <!-- Article links will be here -->
</li>
```

Where `"#request-money"` is the ID of Stage title in the hub page (the same as in the example of the `Add a Stage title (optional)` section).

### Add a new Article link

Add the next HTML block inside of the corresponding Stage title anchor:

```
<ul>
    <li><a href="./request-money/SmartScan">SmartScan</a></li>
</ul>
```

Where `./request-money/SmartScan` will be the relative path of the file name (exactly the same as in the `Add a Card button` example above).

import type {ValueOf} from 'type-fest';
import CONST from '@src/CONST';
import type {ConnectionName} from '@src/types/onyx/Policy';

const ROUTE_NAME_MAPPING = {
    [CONST.POLICY.CONNECTIONS.ROUTE.QBO]: CONST.POLICY.CONNECTIONS.NAME.QBO,
    [CONST.POLICY.CONNECTIONS.ROUTE.XERO]: CONST.POLICY.CONNECTIONS.NAME.XERO,
    [CONST.POLICY.CONNECTIONS.ROUTE.SAGE_INTACCT]: CONST.POLICY.CONNECTIONS.NAME.SAGE_INTACCT,
    [CONST.POLICY.CONNECTIONS.ROUTE.NETSUITE]: CONST.POLICY.CONNECTIONS.NAME.NETSUITE,
    [CONST.POLICY.CONNECTIONS.ROUTE.QBD]: CONST.POLICY.CONNECTIONS.NAME.QBD,
    [CONST.POLICY.CONNECTIONS.ROUTE.CERTINIA]: CONST.POLICY.CONNECTIONS.NAME.CERTINIA,
};

const NAME_ROUTE_MAPPING = {
    [CONST.POLICY.CONNECTIONS.NAME.QBO]: CONST.POLICY.CONNECTIONS.ROUTE.QBO,
    [CONST.POLICY.CONNECTIONS.NAME.XERO]: CONST.POLICY.CONNECTIONS.ROUTE.XERO,
    [CONST.POLICY.CONNECTIONS.NAME.SAGE_INTACCT]: CONST.POLICY.CONNECTIONS.ROUTE.SAGE_INTACCT,
    [CONST.POLICY.CONNECTIONS.NAME.NETSUITE]: CONST.POLICY.CONNECTIONS.ROUTE.NETSUITE,
    [CONST.POLICY.CONNECTIONS.NAME.QBD]: CONST.POLICY.CONNECTIONS.ROUTE.QBD,
    [CONST.POLICY.CONNECTIONS.NAME.CERTINIA]: CONST.POLICY.CONNECTIONS.ROUTE.CERTINIA,
};

const CONNECTION_NAME_TO_EXPORTED_TO_SEARCH_VALUE: Record<ConnectionName, string> = {
    [CONST.POLICY.CONNECTIONS.NAME.XERO]: 'xero',
    [CONST.POLICY.CONNECTIONS.NAME.QBO]: 'qbo',
    [CONST.POLICY.CONNECTIONS.NAME.QBD]: 'qbd',
    [CONST.POLICY.CONNECTIONS.NAME.NETSUITE]: 'netsuite',
    [CONST.POLICY.CONNECTIONS.NAME.SAGE_INTACCT]: 'intacct',
    [CONST.POLICY.CONNECTIONS.NAME.CERTINIA]: 'certinia',
};

function getConnectionNameFromRouteParam(routeParam: ValueOf<typeof CONST.POLICY.CONNECTIONS.ROUTE>) {
    return ROUTE_NAME_MAPPING[routeParam];
}

function getRouteParamForConnection(connectionName: ConnectionName) {
    return NAME_ROUTE_MAPPING[connectionName];
}

function getSearchValueForConnection(connectionName: ConnectionName): string {
    return CONNECTION_NAME_TO_EXPORTED_TO_SEARCH_VALUE[connectionName];
}

function getPredefinedConnectionNamesForSearch(): ConnectionName[] {
    return Object.keys(CONNECTION_NAME_TO_EXPORTED_TO_SEARCH_VALUE) as ConnectionName[];
}

export {getConnectionNameFromRouteParam, getRouteParamForConnection, getSearchValueForConnection, getPredefinedConnectionNamesForSearch};
